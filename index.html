<!doctype html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PPeC ‚Ä¢ Gest√£o de Tarefas ‚Äî Esfor√ßo √ó Horas</title>
  <link rel="icon" href="assets/logo.png" />
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <div class="app">
    <!-- Barra Lateral -->
    <aside class="sidebar">
      <div class="brand">
        <img src="assets/logo.png" alt="Logo" />
      </div>

      <div class="section-title">
        <div class="pill">Filtros</div>
      </div>

      <div class="controls">
        <div class="control">
          <label>Respons√°vel</label>
          <select id="personSelect">
            <option value="">Carregando...</option>
          </select>
        </div>

        <div class="control">
          <label>Buscar (cliente / sistema / PRP / texto)</label>
          <input id="searchInput" type="text" placeholder="Ex: SAP, Ale, ITGC..." />
        </div>

        <div class="btnrow">
          <button class="btn ghost" id="btnReset" title="Limpa todos os filtros">Limpar</button>
        </div>

        <div class="btnrow">
          <button class="btn ghost hidden" id="clearTypeBtn" title="Limpar filtro de tipo">Tipo: limpar</button>
        </div>

        <div class="separator"></div>

        <div class="btnrow">
          <input type="file" id="csvFile1" accept=".csv" class="hidden" />
          <button class="btn primary" id="btnLoadCsv1" title="Carregar CSV principal com coluna ID">üìÇ Carregar CSV
            Principal</button>
        </div>

        <div class="btnrow">
          <input type="file" id="csvFile2" accept=".csv" class="hidden" />
          <button class="btn primary" id="btnLoadCsv2" title="Carregar CSV complementar com coluna DemandaId">üìÇ
            Carregar CSV Complementar</button>
        </div>

        <div class="btnrow">
          <div id="csvStatus" class="filehint" style="font-size: 0.85rem; margin-top: 4px;">
            CSV Principal: ‚ùå | CSV Complementar: ‚ùå
          </div>
        </div>

        <div class="btnrow">
          <button class="btn ghost" id="btnExportJson" title="Baixar dados atuais como JSON">üíæ Exportar JSON</button>
        </div>

        <!-- <div class="filehint">
          ‚úÖ <b>Funciona abrindo o HTML direto</b> (file://).<br />
          Se n√£o estiver servindo via HTTP, use <b>Carregar CSV</b> para atualizar os dados do dia.<br />
          Dica: voc√™ tamb√©m pode hospedar essa pasta em um servidor simples (intranet) e o arquivo
          <code>data/tasks.json</code>
          ser√° carregado automaticamente.
        </div> -->

        <div class="footer-meta">
          <div class="badge" id="badgeTotal">‚Äî</div>
          <div class="badge" id="badgeAdm">‚Äî</div>
          <div class="badge" id="badgeUpdated">‚Äî</div>
        </div>
      </div>
    </aside>

    <!-- Principal -->
    <main class="main">
      <div class="topbar">
        <div class="title-pill">M√ìDULO DE GEST√ÉO DE TAREFAS - ESFOR√áO √ó HORAS</div>
        <div class="top-actions">
          <a href="graphs.html" class="action-chip" title="Gr√°ficos (visual)"
            style="text-decoration:none"><span>Gr√°ficos</span></a>
        </div>
      </div>

      <div id="banner" class="action-chip hidden" style="margin-bottom: 14px;"></div>

      <div class="type-row" id="typeRow">
        <!-- Cart√µes de tipos injetados por JS -->
      </div>

      <section class="board" id="board" aria-label="Quadro Kanban">
        <!-- Colunas injetadas por JS -->
      </section>
    </main>
  </div>

  <!-- Modal -->
  <div class="modal-backdrop" id="modalBackdrop" role="dialog" aria-modal="true" aria-label="Detalhes da demanda">
    <div class="modal">
      <div class="mhead">
        <div>
          <h2 id="modalTitle">‚Äî</h2>
          <div class="small" id="modalSubtitle"></div>
        </div>
        <button class="close" id="modalClose">Fechar</button>
      </div>

      <div class="grid" id="modalGrid"></div>
      <div class="note" id="modalNote"></div>
    </div>
  </div>

  <!-- Amostra embutida (usada quando n√£o h√° data/tasks.json e nenhum cache ainda) -->
  <script>
    window.__PPC_SAMPLE__ = [{ "Nome do Solicitante": "Victorr", "Nome Cliente": "Cliente X", "√Årea Solicitante": "Intelidados", "Email do solicitante": "victor.rodrigues@ppc.com.br", "Tipo de Demanda": "Auditoria de TI", "Cybersecurity": "", "Auditoria TI": "", "Consultoria de TI": "", "Intelidados": "[\"I1 - BI\"]", "Demanda Interna (PPeC)": "", "Outros": "", "Formato de Trabalho": "Entendimento de TI (Indaga√ß√£o)", "ID - PRP (RentSoft)": "asda15102", "Per√≠odo Escopo (Inicial)": "1/5/2026", "Per√≠odo Escopo (Final)": "1/9/2026", "Sistema em Escopo": "PowerBI", "Detalhe da demanda (Escopo)": "Dashboard executivo para Intelidados", "Data In√≠cio (Previs√£o)": "1/19/2026", "Data Conclus√£o (Previs√£o)": "1/30/2026", "Horas": "60", "Or√ßamento / Valor Demanda": "R$ 15,110.00", "Email S√≥cio": "victor.rodrigues@ppc.com.br", "Email Gerente": "victor.rodrigues@ppc.com.br", "Email Encarregado": "victor.rodrigues@ppc.com.br", "Contato Cliente": "Ale", "Email Cliente": "victor.rodrigues@ppc.com.br", "IDPlanner": "SAMP1", "Status": "Em Avalia√ß√£o", "Horas ADM": "40", "Aprova√ß√£o Demanda": "Sim", "Respons√°vel Demanda": "Higor Dias Sanches", "Horas Projeto (Respons√°vel Demanda)": "10", "Horas Adm (Respons√°vel Demanda)": "10", "Trainee do Projeto": "Dominique Lima de Freitas", "Horas Adm (Trainee)": "10", "Horas Projeto (Trainee)": "10", "Respons√°vel Cyber": "Larissa Santos de Freitas", "Horas Adm (Cyber)": "10", "Horas Projeto (Cyber)": "10", "Respons√°vel Intelidados": "Higor Dias Sanches Sapacosta", "Horas Adm (Intelidados)": "10", "Horas Projeto (Intelidados)": "10" }, { "Nome do Solicitante": "Victorr", "Nome Cliente": "Cliente Y", "√Årea Solicitante": "Cyber", "Email do solicitante": "victor.rodrigues@ppc.com.br", "Tipo de Demanda": "Auditoria de TI", "Cybersecurity": "[\"C3 - IAM\"]", "Auditoria TI": "", "Consultoria de TI": "", "Intelidados": "", "Demanda Interna (PPeC)": "", "Outros": "", "Formato de Trabalho": "Entendimento de TI (Indaga√ß√£o)", "ID - PRP (RentSoft)": "asda15102", "Per√≠odo Escopo (Inicial)": "1/5/2026", "Per√≠odo Escopo (Final)": "1/9/2026", "Sistema em Escopo": "Azure AD", "Detalhe da demanda (Escopo)": "Revis√£o de permiss√µes e hardening", "Data In√≠cio (Previs√£o)": "1/19/2026", "Data Conclus√£o (Previs√£o)": "1/30/2026", "Horas": "50", "Or√ßamento / Valor Demanda": "R$ 15,110.00", "Email S√≥cio": "victor.rodrigues@ppc.com.br", "Email Gerente": "victor.rodrigues@ppc.com.br", "Email Encarregado": "victor.rodrigues@ppc.com.br", "Contato Cliente": "Ale", "Email Cliente": "victor.rodrigues@ppc.com.br", "IDPlanner": "SAMP2", "Status": "Bloqueado", "Horas ADM": "18", "Aprova√ß√£o Demanda": "Sim", "Respons√°vel Demanda": "Larissa Santos", "Horas Projeto (Respons√°vel Demanda)": "10", "Horas Adm (Respons√°vel Demanda)": "10", "Trainee do Projeto": "Dominique Lima de Freitas", "Horas Adm (Trainee)": "10", "Horas Projeto (Trainee)": "10", "Respons√°vel Cyber": "Larissa Santos de Freitas", "Horas Adm (Cyber)": "10", "Horas Projeto (Cyber)": "10", "Respons√°vel Intelidados": "Higor Dias Sanches Sapacosta", "Horas Adm (Intelidados)": "10", "Horas Projeto (Intelidados)": "10" }, { "Nome do Solicitante": "Victorr", "Nome Cliente": "Cliente Z", "√Årea Solicitante": "Consultoria", "Email do solicitante": "victor.rodrigues@ppc.com.br", "Tipo de Demanda": "Auditoria de TI", "Cybersecurity": "", "Auditoria TI": "", "Consultoria de TI": "[\"CT1 - Infra\"]", "Intelidados": "", "Demanda Interna (PPeC)": "", "Outros": "", "Formato de Trabalho": "Entendimento de TI (Indaga√ß√£o)", "ID - PRP (RentSoft)": "asda15102", "Per√≠odo Escopo (Inicial)": "1/5/2026", "Per√≠odo Escopo (Final)": "1/9/2026", "Sistema em Escopo": "SAP", "Detalhe da demanda (Escopo)": "An√°lise de controles TI e evid√™ncias", "Data In√≠cio (Previs√£o)": "1/19/2026", "Data Conclus√£o (Previs√£o)": "1/30/2026", "Horas": "80", "Or√ßamento / Valor Demanda": "R$ 15,110.00", "Email S√≥cio": "victor.rodrigues@ppc.com.br", "Email Gerente": "victor.rodrigues@ppc.com.br", "Email Encarregado": "victor.rodrigues@ppc.com.br", "Contato Cliente": "Ale", "Email Cliente": "victor.rodrigues@ppc.com.br", "IDPlanner": "SAMP3", "Status": "Em Andamento", "Horas ADM": "22", "Aprova√ß√£o Demanda": "Sim", "Respons√°vel Demanda": "Victor Hugo Dias Rodrigues", "Horas Projeto (Respons√°vel Demanda)": "10", "Horas Adm (Respons√°vel Demanda)": "10", "Trainee do Projeto": "Dominique Lima de Freitas", "Horas Adm (Trainee)": "10", "Horas Projeto (Trainee)": "10", "Respons√°vel Cyber": "Larissa Santos de Freitas", "Horas Adm (Cyber)": "10", "Horas Projeto (Cyber)": "10", "Respons√°vel Intelidados": "Higor Dias Sanches Sapacosta", "Horas Adm (Intelidados)": "10", "Horas Projeto (Intelidados)": "10" }, { "Nome do Solicitante": "Victorr", "Nome Cliente": "Cliente W", "√Årea Solicitante": "Auditoria", "Email do solicitante": "victor.rodrigues@ppc.com.br", "Tipo de Demanda": "Auditoria de TI", "Cybersecurity": "", "Auditoria TI": "[\"P11 - ITGC\"]", "Consultoria de TI": "", "Intelidados": "", "Demanda Interna (PPeC)": "", "Outros": "", "Formato de Trabalho": "Entendimento de TI (Indaga√ß√£o)", "ID - PRP (RentSoft)": "asda15102", "Per√≠odo Escopo (Inicial)": "1/5/2026", "Per√≠odo Escopo (Final)": "1/9/2026", "Sistema em Escopo": "TOTVS", "Detalhe da demanda (Escopo)": "Testes finais do escopo", "Data In√≠cio (Previs√£o)": "1/19/2026", "Data Conclus√£o (Previs√£o)": "1/30/2026", "Horas": "30", "Or√ßamento / Valor Demanda": "R$ 15,110.00", "Email S√≥cio": "victor.rodrigues@ppc.com.br", "Email Gerente": "victor.rodrigues@ppc.com.br", "Email Encarregado": "victor.rodrigues@ppc.com.br", "Contato Cliente": "Ale", "Email Cliente": "victor.rodrigues@ppc.com.br", "IDPlanner": "SAMP4", "Status": "Teste", "Horas ADM": "12", "Aprova√ß√£o Demanda": "Sim", "Respons√°vel Demanda": "Dominique Lima", "Horas Projeto (Respons√°vel Demanda)": "10", "Horas Adm (Respons√°vel Demanda)": "10", "Trainee do Projeto": "Dominique Lima de Freitas", "Horas Adm (Trainee)": "10", "Horas Projeto (Trainee)": "10", "Respons√°vel Cyber": "Larissa Santos de Freitas", "Horas Adm (Cyber)": "10", "Horas Projeto (Cyber)": "10", "Respons√°vel Intelidados": "Higor Dias Sanches Sapacosta", "Horas Adm (Intelidados)": "10", "Horas Projeto (Intelidados)": "10" }, { "Nome do Solicitante": "Victorr", "Nome Cliente": "PPeC", "√Årea Solicitante": "Interno", "Email do solicitante": "victor.rodrigues@ppc.com.br", "Tipo de Demanda": "Auditoria de TI", "Cybersecurity": "", "Auditoria TI": "", "Consultoria de TI": "", "Intelidados": "", "Demanda Interna (PPeC)": "[\"D1 - Processos\"]", "Outros": "", "Formato de Trabalho": "Entendimento de TI (Indaga√ß√£o)", "ID - PRP (RentSoft)": "asda15102", "Per√≠odo Escopo (Inicial)": "1/5/2026", "Per√≠odo Escopo (Final)": "1/9/2026", "Sistema em Escopo": "Planner", "Detalhe da demanda (Escopo)": "Padroniza√ß√£o do input di√°rio", "Data In√≠cio (Previs√£o)": "1/19/2026", "Data Conclus√£o (Previs√£o)": "1/30/2026", "Horas": "20", "Or√ßamento / Valor Demanda": "R$ 15,110.00", "Email S√≥cio": "victor.rodrigues@ppc.com.br", "Email Gerente": "victor.rodrigues@ppc.com.br", "Email Encarregado": "victor.rodrigues@ppc.com.br", "Contato Cliente": "Ale", "Email Cliente": "victor.rodrigues@ppc.com.br", "IDPlanner": "SAMP5", "Status": "Conclu√≠do", "Horas ADM": "8", "Aprova√ß√£o Demanda": "Sim", "Respons√°vel Demanda": "Higor Teste", "Horas Projeto (Respons√°vel Demanda)": "10", "Horas Adm (Respons√°vel Demanda)": "10", "Trainee do Projeto": "Dominique Lima de Freitas", "Horas Adm (Trainee)": "10", "Horas Projeto (Trainee)": "10", "Respons√°vel Cyber": "Larissa Santos de Freitas", "Horas Adm (Cyber)": "10", "Horas Projeto (Cyber)": "10", "Respons√°vel Intelidados": "Higor Dias Sanches Sapacosta", "Horas Adm (Intelidados)": "10", "Horas Projeto (Intelidados)": "10" }, { "Nome do Solicitante": "Victorr", "Nome Cliente": "Cliente Q", "√Årea Solicitante": "Outros", "Email do solicitante": "victor.rodrigues@ppc.com.br", "Tipo de Demanda": "Auditoria de TI", "Cybersecurity": "", "Auditoria TI": "", "Consultoria de TI": "", "Intelidados": "", "Demanda Interna (PPeC)": "", "Outros": "[\"O1\"]", "Formato de Trabalho": "Entendimento de TI (Indaga√ß√£o)", "ID - PRP (RentSoft)": "asda15102", "Per√≠odo Escopo (Inicial)": "1/5/2026", "Per√≠odo Escopo (Final)": "1/9/2026", "Sistema em Escopo": "‚Äî", "Detalhe da demanda (Escopo)": "Demanda cancelada pelo cliente", "Data In√≠cio (Previs√£o)": "1/19/2026", "Data Conclus√£o (Previs√£o)": "1/30/2026", "Horas": "10", "Or√ßamento / Valor Demanda": "R$ 15,110.00", "Email S√≥cio": "victor.rodrigues@ppc.com.br", "Email Gerente": "victor.rodrigues@ppc.com.br", "Email Encarregado": "victor.rodrigues@ppc.com.br", "Contato Cliente": "Ale", "Email Cliente": "victor.rodrigues@ppc.com.br", "IDPlanner": "SAMP6", "Status": "Cancelado", "Horas ADM": "4", "Aprova√ß√£o Demanda": "Sim", "Respons√°vel Demanda": "Victor Hugo Dias Rodrigues", "Horas Projeto (Respons√°vel Demanda)": "10", "Horas Adm (Respons√°vel Demanda)": "10", "Trainee do Projeto": "Dominique Lima de Freitas", "Horas Adm (Trainee)": "10", "Horas Projeto (Trainee)": "10", "Respons√°vel Cyber": "Larissa Santos de Freitas", "Horas Adm (Cyber)": "10", "Horas Projeto (Cyber)": "10", "Respons√°vel Intelidados": "Higor Dias Sanches Sapacosta", "Horas Adm (Intelidados)": "10", "Horas Projeto (Intelidados)": "10" }, { "Nome do Solicitante": "Victorr", "Nome Cliente": "Ale", "√Årea Solicitante": "Auditoria", "Email do solicitante": "victor.rodrigues@ppc.com.br", "Tipo de Demanda": "Auditoria de TI", "Cybersecurity": "", "Auditoria TI": "[\"P11 - ITGC\"]", "Consultoria de TI": "", "Intelidados": "", "Demanda Interna (PPeC)": "", "Outros": "", "Formato de Trabalho": "Entendimento de TI (Indaga√ß√£o)", "ID - PRP (RentSoft)": "asda15102", "Per√≠odo Escopo (Inicial)": "1/5/2026", "Per√≠odo Escopo (Final)": "1/9/2026", "Sistema em Escopo": "SAP", "Detalhe da demanda (Escopo)": "TEste VR", "Data In√≠cio (Previs√£o)": "1/19/2026", "Data Conclus√£o (Previs√£o)": "1/30/2026", "Horas": "80", "Or√ßamento / Valor Demanda": "R$ 15,110.00", "Email S√≥cio": "victor.rodrigues@ppc.com.br", "Email Gerente": "victor.rodrigues@ppc.com.br", "Email Encarregado": "victor.rodrigues@ppc.com.br", "Contato Cliente": "Ale", "Email Cliente": "victor.rodrigues@ppc.com.br", "IDPlanner": "ePurqF9byU2K6ZSvXgHEXGUALqnQ", "Status": "Em Avalia√ß√£o", "Horas ADM": "80", "Aprova√ß√£o Demanda": "Sim", "Respons√°vel Demanda": "Victor Hugo Dias Rodrigues", "Horas Projeto (Respons√°vel Demanda)": "10", "Horas Adm (Respons√°vel Demanda)": "10", "Trainee do Projeto": "Dominique Lima de Freitas", "Horas Adm (Trainee)": "10", "Horas Projeto (Trainee)": "10", "Respons√°vel Cyber": "Larissa Santos de Freitas", "Horas Adm (Cyber)": "10", "Horas Projeto (Cyber)": "10", "Respons√°vel Intelidados": "Higor Dias Sanches Sapacosta", "Horas Adm (Intelidados)": "10", "Horas Projeto (Intelidados)": "10" }];
  </script>

</body>
  <script src="js/api.js"></script>
  <script src="js/checklist.js"></script>
  <script src="js/app.js"></script>
</body>

</html>